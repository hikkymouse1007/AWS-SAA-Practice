# CloudFront
- CDN - コンテンツデリバリネットワーク
- 読み取りパフォーマンスが向上し、コンテンツはエッジでキャッシュされる。
- グローバルな216の実在するポイント（エッジロケーション)
- DDoS対策、Shield、AWS Web Application Firewallとの統合
- 外部HTTPSを公開し、内部HTTPSバックエンドと通信可能

## Origin
- S3バケット
    - エッジロケーションでのキャッシュやファイル配布
    - CloudFront Origin Access Identity（OAI）でセキュリティを強化 - CloudFrontをイングレス（S3にファイルをアップロードする）として利用可能
    - S3はエッジロケーションとプライベートネットワーク接続
- カスタムオリジン(HTTP)
    - 以下のサービスをオリジンに指定可能
        - ALB
        - EC2
        - S3 ウェブサイト (S3で静的なWebページを設定する)
        - 任意のHTTPバックエンド
    - EC2の場合は、インスタンスをパブリックネットワークに設置する必要があり、エッジロケーションのIPをSGで許可する必要がある
    - ALBの場合は、ALBはパブリックに設置する必要があるが、EC2はプライベートネットワークに配置することができる。

## CloudFront Geo Restriction
- Distributionへのアクセス制限が可能
- White List:承認された国のリストにある国のいずれかにいる場合にのみ、ユーザーがコンテンツにアクセスできる
- Black List:禁止されている国のブラックリストの国のいずれかにある場合、ユーザーがコンテンツにアクセスできない
- ユーザの所在する国は、サードパーティの Geo-IP データベースを使用して決定される
- Use Case: コンテンツへのアクセスを制御する著作権法

## CloudFront vs S3 Cross Region Replication 
- CloudFront
    - グローバルエッジネットワーク
    - ファイルはTTL（多分1日）の間キャッシュされます。
    - どこでも利用可能な静的コンテンツに最適
- S3
    - レプリケーションを実行したいリージョンごとに設定する必要があります。
    - ファイルはほぼリアルタイムで更新されます
    - 読み取り専用
    - 少ないリージョンで低レイテンシーで利用できる必要があるダイナミックコンテンツに最適